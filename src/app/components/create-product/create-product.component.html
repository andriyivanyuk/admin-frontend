<div class="wrapper">
  <h4 class="card-title">Створити товар</h4>
  <form [formGroup]="form" class="main-form">
    <div class="main-content">
      <div class="form-group">
        <label for="username">Назва товару</label>
        <input
          formControlName="title"
          type="text"
          id="username"
          class="form-control"
          placeholder="Введіть назву"
        />
      </div>

      <div class="form-group">
        <label for="price">Ціна, в грн</label>
        <input
          type="number"
          id="price"
          class="form-control"
          formControlName="price"
        />
      </div>

      <div class="form-group">
        <label for="stock">Кількість одиниць на складі</label>
        <input
          type="number"
          id="stock"
          class="form-control"
          formControlName="stock"
        />
      </div>

      <div class="form-group">
        <label for="status">Статус товару</label>
        <select id="status" class="form-control" formControlName="status_id">
          @for (status of (statuses$ | async) || [] | transformStatuses :
          'status_name'; track status) {
          <option [value]="status.status_id">
            {{ status.status_name }}
          </option>
          }
        </select>
      </div>

      <div class="form-group">
        <label for="status">Категорія товару</label>
        <select id="status" class="form-control" formControlName="category_id">
          @for (category of (categories$ | async); track category) {
          <option [value]="category.category_id">
            {{ category.title }}
          </option>
          }
        </select>
      </div>

      <div class="form-group">
        <label for="image">Фото товару</label>
        <input
          type="file"
          id="image"
          class="form-control-file"
          (change)="onFileSelected($event)"
        />
      </div>

      <div class="form-group">
        <label for="exampleInputEmail1">Опис</label>
        <textarea
          class="form-control"
          rows="3"
          formControlName="description"
          placeholder="Введіть опис (необовязково)"
        >
        </textarea>
      </div>

      <div class="category-btn-group">
        <button
          (click)="createProduct()"
          [disabled]="form.invalid"
          class="btn submit-btn"
        >
          Створити
        </button>
        <button type="button" class="btn btn-warning">Очистити</button>
      </div>
    </div>
  </form>
</div>
